{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatBox=()=>{const[messages,setMessages]=useState([]);const[typing,setTyping]=useState(false);const[input,setInput]=useState('');const handleSend=async()=>{if(!input.trim())return;const userMessage={sender:'user',text:input};setMessages(prev=>[...prev,userMessage]);setInput('');setTyping(true);try{const res=await axios.post('http://localhost:3000/ask',{question:input});const botMessage={sender:'bot',text:res.data.answer};setMessages(prev=>[...prev,botMessage]);}catch(err){setMessages(prev=>[...prev,{sender:'bot',text:'Error: Could not get a response.'}]);}finally{setTyping(false);}};const handleKeyPress=e=>{if(e.key==='Enter')handleSend();};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6 h-[500px] overflow-y-auto flex flex-col gap-2\",children:[messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-xl max-w-[80%] ${msg.sender==='user'?'bg-blue-500 text-white self-end':'bg-gray-200 text-black self-start'}`,children:msg.text},index)),typing&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 italic\",children:\"Assistant is typing...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:e=>setInput(e.target.value),onKeyDown:handleKeyPress,className:\"flex-1 p-3 border border-gray-300 rounded-l-2xl focus:outline-none\",placeholder:\"Ask me about orders, refunds, or products...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,className:\"bg-blue-600 text-white px-6 rounded-r-2xl hover:bg-blue-700\",children:\"Send\"})]})]});};export default ChatBox;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ChatBox","messages","setMessages","typing","setTyping","input","setInput","handleSend","trim","userMessage","sender","text","prev","res","post","question","botMessage","data","answer","err","handleKeyPress","e","key","className","children","map","msg","index","value","onChange","target","onKeyDown","placeholder","onClick"],"sources":["C:/Users/manda/Downloads/Customer Query Assistant/client/src/components/ChatBox.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ChatBox = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [typing, setTyping] = useState(false);\r\n  const [input, setInput] = useState('');\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { sender: 'user', text: input };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput('');\r\n    setTyping(true);\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:3000/ask', { question: input });\r\n      const botMessage = { sender: 'bot', text: res.data.answer };\r\n      setMessages((prev) => [...prev, botMessage]);\r\n    } catch (err) {\r\n      setMessages((prev) => [...prev, { sender: 'bot', text: 'Error: Could not get a response.' }]);\r\n    } finally {\r\n      setTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') handleSend();\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-lg p-6 h-[500px] overflow-y-auto flex flex-col gap-2\">\r\n        {messages.map((msg, index) => (\r\n          <div\r\n            key={index}\r\n            className={`p-3 rounded-xl max-w-[80%] ${\r\n              msg.sender === 'user'\r\n                ? 'bg-blue-500 text-white self-end'\r\n                : 'bg-gray-200 text-black self-start'\r\n            }`}\r\n          >\r\n            {msg.text}\r\n          </div>\r\n        ))}\r\n        {typing && <div className=\"text-sm text-gray-500 italic\">Assistant is typing...</div>}\r\n      </div>\r\n\r\n      <div className=\"flex mt-4\">\r\n        <input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={handleKeyPress}\r\n          className=\"flex-1 p-3 border border-gray-300 rounded-l-2xl focus:outline-none\"\r\n          placeholder=\"Ask me about orders, refunds, or products...\"\r\n        />\r\n        <button\r\n          onClick={handleSend}\r\n          className=\"bg-blue-600 text-white px-6 rounded-r-2xl hover:bg-blue-700\"\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}